# this is the snakemake pipeline for analysis the metagenomic data

configfile: "config/config.yml"

rule dorado_basecall:
    input:
        read_dir = config["raw_data_dir"]
    output:
        bam = "results/dorado/output.bam"
    threads: 4
    params:
        model = config["dorado_model"],
        dorado = config["dorado_path"]
    resources:
        mem_mb = 8000
    shell:
        """
        {params.dorado} basecaller -r {params.model} {input.read_dir} > {output.bam}
        """